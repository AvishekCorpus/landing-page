import{R as na,ae as aa,r as d,a6 as cn,a7 as fn,a8 as Vr,a9 as Mr,a1 as dn,a0 as Un,a5 as vn,h as S,af as jt,k as ue,_ as jr,ag as yn,e as j,V as Oe,aa as pn,u as ia,ah as oa,A as vt,l as L,a as ge,ai as _n,aj as Jt,$ as sa,ak as ua,w as er,al as la,am as Bn,an as ca,f as F,ao as H,ap as Or,aq as qe,ar as qr,as as fr,at as Ye,a3 as Fn,g as mt,c as Cr,i as Kn,W as fa,au as da,av as Gt,a4 as va,aw as Qt,C as ga,ax as ha}from"./index-BnYSQj6p.js";import{i as ma}from"./ResizeObserver.es-B1PUzC5B.js";function gt(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=[];return na.Children.forEach(a,function(n){n==null&&!t.keepEmpty||(Array.isArray(n)?e=e.concat(gt(n)):aa(n)&&n.props?e=e.concat(gt(n.props.children,t)):e.push(n))}),e}var Zt=d.createContext(null);function ya(a){var t=a.children,e=a.onBatchResize,n=d.useRef(0),r=d.useRef([]),i=d.useContext(Zt),o=d.useCallback(function(s,l,c){n.current+=1;var u=n.current;r.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){u===n.current&&(e==null||e(r.current),r.current=[])}),i==null||i(s,l,c)},[e,i]);return d.createElement(Zt.Provider,{value:o},t)}var Xe=new Map;function pa(a){a.forEach(function(t){var e,n=t.target;(e=Xe.get(n))===null||e===void 0||e.forEach(function(r){return r(n)})})}var Jn=new ma(pa);function Fa(a,t){Xe.has(a)||(Xe.set(a,new Set),Jn.observe(a)),Xe.get(a).add(t)}function wa(a,t){Xe.has(a)&&(Xe.get(a).delete(t),Xe.get(a).size||(Jn.unobserve(a),Xe.delete(a)))}var ba=function(a){cn(e,a);var t=fn(e);function e(){return Vr(this,e),t.apply(this,arguments)}return Mr(e,[{key:"render",value:function(){return this.props.children}}]),e}(d.Component);function Ca(a,t){var e=a.children,n=a.disabled,r=d.useRef(null),i=d.useRef(null),o=d.useContext(Zt),s=typeof e=="function",l=s?e(r):e,c=d.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&d.isValidElement(l)&&dn(l),v=u?Un(l):null,h=vn(v,r),w=function(){var p;return jt(r.current)||(r.current&&ue(r.current)==="object"?jt((p=r.current)===null||p===void 0?void 0:p.nativeElement):null)||jt(i.current)};d.useImperativeHandle(t,function(){return w()});var g=d.useRef(a);g.current=a;var m=d.useCallback(function(f){var p=g.current,y=p.onResize,b=p.data,V=f.getBoundingClientRect(),P=V.width,C=V.height,R=f.offsetWidth,x=f.offsetHeight,E=Math.floor(P),k=Math.floor(C);if(c.current.width!==E||c.current.height!==k||c.current.offsetWidth!==R||c.current.offsetHeight!==x){var $={width:E,height:k,offsetWidth:R,offsetHeight:x};c.current=$;var I=R===Math.round(P)?P:R,A=x===Math.round(C)?C:x,T=S(S({},$),{},{offsetWidth:I,offsetHeight:A});o==null||o(T,f,b),y&&Promise.resolve().then(function(){y(T,f)})}},[]);return d.useEffect(function(){var f=w();return f&&!n&&Fa(f,m),function(){return wa(f,m)}},[r.current,n]),d.createElement(ba,{ref:i},u?d.cloneElement(l,{ref:h}):l)}var Pa=d.forwardRef(Ca),Ea="rc-observer-key";function Va(a,t){var e=a.children,n=typeof e=="function"?[e]:gt(e);return n.map(function(r,i){var o=(r==null?void 0:r.key)||"".concat(Ea,"-").concat(i);return d.createElement(Pa,jr({},a,{key:o,ref:i===0?t:void 0}),r)})}var gn=d.forwardRef(Va);gn.Collection=ya;function Ot(a){return a!==void 0}function Qi(a,t){var e=t||{},n=e.defaultValue,r=e.value,i=e.onChange,o=e.postState,s=yn(function(){return Ot(r)?r:Ot(n)?typeof n=="function"?n():n:typeof a=="function"?a():a}),l=j(s,2),c=l[0],u=l[1],v=r!==void 0?r:c,h=o?o(v):v,w=Oe(i),g=yn([v]),m=j(g,2),f=m[0],p=m[1];pn(function(){var b=f[0];c!==b&&w(c,b)},[f]),pn(function(){Ot(r)||u(r)},[r]);var y=Oe(function(b,V){u(b,V),p([v],V)});return[h,y]}const Zi=a=>{const[,,,,t]=ia();return t?`${a}-css-var`:""};var Yi={TAB:9,ENTER:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};const zt=()=>({height:0,opacity:0}),wn=a=>{const{scrollHeight:t}=a;return{height:t,opacity:1}},Ma=a=>({height:a?a.offsetHeight:0}),Ut=(a,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",Xi=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:oa}-motion-collapse`,onAppearStart:zt,onEnterStart:zt,onAppearActive:wn,onEnterActive:wn,onLeaveStart:Ma,onLeaveActive:zt,onAppearEnd:Ut,onEnterEnd:Ut,onLeaveEnd:Ut,motionDeadline:500}},eo=(a,t,e)=>e!==void 0?e:`${a}-${t}`,ka=a=>({animationDuration:a,animationFillMode:"both"}),Sa=a=>({animationDuration:a,animationFillMode:"both"}),ro=function(a,t,e,n){const i=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${i}${a}-enter,
      ${i}${a}-appear
    `]:Object.assign(Object.assign({},ka(n)),{animationPlayState:"paused"}),[`${i}${a}-leave`]:Object.assign(Object.assign({},Sa(n)),{animationPlayState:"paused"}),[`
      ${i}${a}-enter${a}-enter-active,
      ${i}${a}-appear${a}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${i}${a}-leave${a}-leave-active`]:{animationName:e,animationPlayState:"running",pointerEvents:"none"}}};var Gn=d.createContext(null),bn=[];function Ra(a,t){var e=d.useState(function(){if(!vt())return null;var g=document.createElement("div");return g}),n=j(e,1),r=n[0],i=d.useRef(!1),o=d.useContext(Gn),s=d.useState(bn),l=j(s,2),c=l[0],u=l[1],v=o||(i.current?void 0:function(g){u(function(m){var f=[g].concat(L(m));return f})});function h(){r.parentElement||document.body.appendChild(r),i.current=!0}function w(){var g;(g=r.parentElement)===null||g===void 0||g.removeChild(r),i.current=!1}return ge(function(){return a?o?o(h):h():w(),w},[a]),ge(function(){c.length&&(c.forEach(function(g){return g()}),u(bn))},[c]),[r,v]}function xa(a){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),e=document.createElement("div");e.id=t;var n=e.style;n.position="absolute",n.left="0",n.top="0",n.width="100px",n.height="100px",n.overflow="scroll";var r,i;if(a){var o=getComputedStyle(a);n.scrollbarColor=o.scrollbarColor,n.scrollbarWidth=o.scrollbarWidth;var s=getComputedStyle(a,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",v=c?"height: ".concat(s.height,";"):"";_n(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(u,`
`).concat(v,`
}`),t)}catch(g){console.error(g),r=l,i=c}}document.body.appendChild(e);var h=a&&r&&!isNaN(r)?r:e.offsetWidth-e.clientWidth,w=a&&i&&!isNaN(i)?i:e.offsetHeight-e.clientHeight;return document.body.removeChild(e),Jt(t),{width:h,height:w}}function $a(a){return typeof document>"u"||!a||!(a instanceof Element)?{width:0,height:0}:xa(a)}function Na(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Ta="rc-util-locker-".concat(Date.now()),Cn=0;function La(a){var t=!!a,e=d.useState(function(){return Cn+=1,"".concat(Ta,"_").concat(Cn)}),n=j(e,1),r=n[0];ge(function(){if(t){var i=$a(document.body).width,o=Na();_n(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),r)}else Jt(r);return function(){Jt(r)}},[t,r])}var Aa=!1;function Da(a){return Aa}var Pn=function(t){return t===!1?!1:!vt()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Qn=d.forwardRef(function(a,t){var e=a.open,n=a.autoLock,r=a.getContainer;a.debug;var i=a.autoDestroy,o=i===void 0?!0:i,s=a.children,l=d.useState(e),c=j(l,2),u=c[0],v=c[1],h=u||e;d.useEffect(function(){(o||e)&&v(e)},[e,o]);var w=d.useState(function(){return Pn(r)}),g=j(w,2),m=g[0],f=g[1];d.useEffect(function(){var $=Pn(r);f($??null)});var p=Ra(h&&!m),y=j(p,2),b=y[0],V=y[1],P=m??b;La(n&&e&&vt()&&(P===b||P===document.body));var C=null;if(s&&dn(s)&&t){var R=s;C=R.ref}var x=vn(C,t);if(!h||!vt()||m===void 0)return null;var E=P===!1||Da(),k=s;return t&&(k=d.cloneElement(s,{ref:x})),d.createElement(Gn.Provider,{value:V},E?k:sa.createPortal(k,P))});function qa(){var a=S({},ua);return a.useId}var En=0,Vn=qa();const Ia=Vn?function(t){var e=Vn();return t||e}:function(t){var e=d.useState("ssr-id"),n=j(e,2),r=n[0],i=n[1];return d.useEffect(function(){var o=En;En+=1,i("rc_unique_".concat(o))},[]),t||r};var dr="RC_FORM_INTERNAL_HOOKS",z=function(){er(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Er=d.createContext({getFieldValue:z,getFieldsValue:z,getFieldError:z,getFieldWarning:z,getFieldsError:z,isFieldsTouched:z,isFieldTouched:z,isFieldValidating:z,isFieldsValidating:z,resetFields:z,setFields:z,setFieldValue:z,setFieldsValue:z,validateFields:z,submit:z,getInternalHooks:function(){return z(),{dispatch:z,initEntityValue:z,registerField:z,useSubscribe:z,setInitialValues:z,destroyForm:z,setCallbacks:z,registerWatch:z,getFields:z,setValidateMessages:z,setPreserve:z,getInitialValue:z}}}),ht=d.createContext(null);function Yt(a){return a==null?[]:Array.isArray(a)?a:[a]}function Wa(a){return a&&!!a._init}function Xt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var en=Xt();function Ha(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function ja(a,t,e){if(la())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var r=new(a.bind.apply(a,n));return e&&Bn(r,e.prototype),r}function rn(a){var t=typeof Map=="function"?new Map:void 0;return rn=function(n){if(n===null||!Ha(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return ja(n,arguments,ca(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Bn(r,n)},rn(a)}var Oa=/%[sdj%]/g,za=function(){};function tn(a){if(!a||!a.length)return null;var t={};return a.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function he(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var r=0,i=e.length;if(typeof a=="function")return a.apply(null,e);if(typeof a=="string"){var o=a.replace(Oa,function(s){if(s==="%%")return"%";if(r>=i)return s;switch(s){case"%s":return String(e[r++]);case"%d":return Number(e[r++]);case"%j":try{return JSON.stringify(e[r++])}catch{return"[Circular]"}break;default:return s}});return o}return a}function Ua(a){return a==="string"||a==="url"||a==="hex"||a==="email"||a==="date"||a==="pattern"}function te(a,t){return!!(a==null||t==="array"&&Array.isArray(a)&&!a.length||Ua(t)&&typeof a=="string"&&!a)}function _a(a,t,e){var n=[],r=0,i=a.length;function o(s){n.push.apply(n,L(s||[])),r++,r===i&&e(n)}a.forEach(function(s){t(s,o)})}function Mn(a,t,e){var n=0,r=a.length;function i(o){if(o&&o.length){e(o);return}var s=n;n=n+1,s<r?t(a[s],i):e([])}i([])}function Ba(a){var t=[];return Object.keys(a).forEach(function(e){t.push.apply(t,L(a[e]||[]))}),t}var kn=function(a){cn(e,a);var t=fn(e);function e(n,r){var i;return Vr(this,e),i=t.call(this,"Async Validation Error"),F(H(i),"errors",void 0),F(H(i),"fields",void 0),i.errors=n,i.fields=r,i}return Mr(e)}(rn(Error));function Ka(a,t,e,n,r){if(t.first){var i=new Promise(function(h,w){var g=function(p){return n(p),p.length?w(new kn(p,tn(p))):h(r)},m=Ba(a);Mn(m,e,g)});return i.catch(function(h){return h}),i}var o=t.firstFields===!0?Object.keys(a):t.firstFields||[],s=Object.keys(a),l=s.length,c=0,u=[],v=new Promise(function(h,w){var g=function(f){if(u.push.apply(u,f),c++,c===l)return n(u),u.length?w(new kn(u,tn(u))):h(r)};s.length||(n(u),h(r)),s.forEach(function(m){var f=a[m];o.indexOf(m)!==-1?Mn(f,e,g):_a(f,e,g)})});return v.catch(function(h){return h}),v}function Ja(a){return!!(a&&a.message!==void 0)}function Ga(a,t){for(var e=a,n=0;n<t.length;n++){if(e==null)return e;e=e[t[n]]}return e}function Sn(a,t){return function(e){var n;return a.fullFields?n=Ga(t,a.fullFields):n=t[e.field||a.fullField],Ja(e)?(e.field=e.field||a.fullField,e.fieldValue=n,e):{message:typeof e=="function"?e():e,fieldValue:n,field:e.field||a.fullField}}}function Rn(a,t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];ue(n)==="object"&&ue(a[e])==="object"?a[e]=S(S({},a[e]),n):a[e]=n}}return a}var Fr="enum",Qa=function(t,e,n,r,i){t[Fr]=Array.isArray(t[Fr])?t[Fr]:[],t[Fr].indexOf(e)===-1&&r.push(he(i.messages[Fr],t.fullField,t[Fr].join(", ")))},Za=function(t,e,n,r,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||r.push(he(i.messages.pattern.mismatch,t.fullField,e,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(e)||r.push(he(i.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},Ya=function(t,e,n,r,i){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,v=null,h=typeof e=="number",w=typeof e=="string",g=Array.isArray(e);if(h?v="number":w?v="string":g&&(v="array"),!v)return!1;g&&(u=e.length),w&&(u=e.replace(c,"_").length),o?u!==t.len&&r.push(he(i.messages[v].len,t.fullField,t.len)):s&&!l&&u<t.min?r.push(he(i.messages[v].min,t.fullField,t.min)):l&&!s&&u>t.max?r.push(he(i.messages[v].max,t.fullField,t.max)):s&&l&&(u<t.min||u>t.max)&&r.push(he(i.messages[v].range,t.fullField,t.min,t.max))},Zn=function(t,e,n,r,i,o){t.required&&(!n.hasOwnProperty(t.field)||te(e,o||t.type))&&r.push(he(i.messages.required,t.fullField))},dt;const Xa=function(){if(dt)return dt;var a="[a-fA-F\\d:]",t=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(a,")|(?<=").concat(a,")(?=\\s|$))"):""},e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",r=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(e,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(e,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(e,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(e,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(e,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(e,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(e,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(r.join("|"),")").concat(i),s=new RegExp("(?:^".concat(e,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(e,"$")),c=new RegExp("^".concat(o,"$")),u=function(C){return C&&C.exact?s:new RegExp("(?:".concat(t(C)).concat(e).concat(t(C),")|(?:").concat(t(C)).concat(o).concat(t(C),")"),"g")};u.v4=function(P){return P&&P.exact?l:new RegExp("".concat(t(P)).concat(e).concat(t(P)),"g")},u.v6=function(P){return P&&P.exact?c:new RegExp("".concat(t(P)).concat(o).concat(t(P)),"g")};var v="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",w=u.v4().source,g=u.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",f="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',V="(?:".concat(v,"|www\\.)").concat(h,"(?:localhost|").concat(w,"|").concat(g,"|").concat(m).concat(f).concat(p,")").concat(y).concat(b);return dt=new RegExp("(?:^".concat(V,"$)"),"i"),dt};var xn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ir={integer:function(t){return Ir.number(t)&&parseInt(t,10)===t},float:function(t){return Ir.number(t)&&!Ir.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return ue(t)==="object"&&!Ir.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(xn.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Xa())},hex:function(t){return typeof t=="string"&&!!t.match(xn.hex)}},ei=function(t,e,n,r,i){if(t.required&&e===void 0){Zn(t,e,n,r,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?Ir[s](e)||r.push(he(i.messages.types[s],t.fullField,t.type)):s&&ue(e)!==t.type&&r.push(he(i.messages.types[s],t.fullField,t.type))},ri=function(t,e,n,r,i){(/^\s+$/.test(e)||e==="")&&r.push(he(i.messages.whitespace,t.fullField))};const q={required:Zn,whitespace:ri,type:ei,range:Ya,enum:Qa,pattern:Za};var ti=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i)}n(o)},ni=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(e==null&&!t.required)return n();q.required(t,e,r,o,i,"array"),e!=null&&(q.type(t,e,r,o,i),q.range(t,e,r,o,i))}n(o)},ai=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&q.type(t,e,r,o,i)}n(o)},ii=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e,"date")&&!t.required)return n();if(q.required(t,e,r,o,i),!te(e,"date")){var l;e instanceof Date?l=e:l=new Date(e),q.type(t,l,r,o,i),l&&q.range(t,l.getTime(),r,o,i)}}n(o)},oi="enum",si=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&q[oi](t,e,r,o,i)}n(o)},ui=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&(q.type(t,e,r,o,i),q.range(t,e,r,o,i))}n(o)},li=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&(q.type(t,e,r,o,i),q.range(t,e,r,o,i))}n(o)},ci=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&q.type(t,e,r,o,i)}n(o)},fi=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(e===""&&(e=void 0),te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&(q.type(t,e,r,o,i),q.range(t,e,r,o,i))}n(o)},di=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),e!==void 0&&q.type(t,e,r,o,i)}n(o)},vi=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e,"string")&&!t.required)return n();q.required(t,e,r,o,i),te(e,"string")||q.pattern(t,e,r,o,i)}n(o)},gi=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e)&&!t.required)return n();q.required(t,e,r,o,i),te(e)||q.type(t,e,r,o,i)}n(o)},hi=function(t,e,n,r,i){var o=[],s=Array.isArray(e)?"array":ue(e);q.required(t,e,r,o,i,s),n(o)},mi=function(t,e,n,r,i){var o=[],s=t.required||!t.required&&r.hasOwnProperty(t.field);if(s){if(te(e,"string")&&!t.required)return n();q.required(t,e,r,o,i,"string"),te(e,"string")||(q.type(t,e,r,o,i),q.range(t,e,r,o,i),q.pattern(t,e,r,o,i),t.whitespace===!0&&q.whitespace(t,e,r,o,i))}n(o)},_t=function(t,e,n,r,i){var o=t.type,s=[],l=t.required||!t.required&&r.hasOwnProperty(t.field);if(l){if(te(e,o)&&!t.required)return n();q.required(t,e,r,s,i,o),te(e,o)||q.type(t,e,r,s,i)}n(s)};const Wr={string:mi,method:ci,number:fi,boolean:ai,regexp:gi,integer:li,float:ui,array:ni,object:di,enum:si,pattern:vi,date:ii,url:_t,hex:_t,email:_t,required:hi,any:ti};var zr=function(){function a(t){Vr(this,a),F(this,"rules",null),F(this,"_messages",en),this.define(t)}return Mr(a,[{key:"define",value:function(e){var n=this;if(!e)throw new Error("Cannot configure a schema with no rules");if(ue(e)!=="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(r){var i=e[r];n.rules[r]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(e){return e&&(this._messages=Rn(Xt(),e)),this._messages}},{key:"validate",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=e,s=r,l=i;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function c(g){var m=[],f={};function p(b){if(Array.isArray(b)){var V;m=(V=m).concat.apply(V,L(b))}else m.push(b)}for(var y=0;y<g.length;y++)p(g[y]);m.length?(f=tn(m),l(m,f)):l(null,o)}if(s.messages){var u=this.messages();u===en&&(u=Xt()),Rn(u,s.messages),s.messages=u}else s.messages=this.messages();var v={},h=s.keys||Object.keys(this.rules);h.forEach(function(g){var m=n.rules[g],f=o[g];m.forEach(function(p){var y=p;typeof y.transform=="function"&&(o===e&&(o=S({},o)),f=o[g]=y.transform(f),f!=null&&(y.type=y.type||(Array.isArray(f)?"array":ue(f)))),typeof y=="function"?y={validator:y}:y=S({},y),y.validator=n.getValidationMethod(y),y.validator&&(y.field=g,y.fullField=y.fullField||g,y.type=n.getType(y),v[g]=v[g]||[],v[g].push({rule:y,value:f,source:o,field:g}))})});var w={};return Ka(v,s,function(g,m){var f=g.rule,p=(f.type==="object"||f.type==="array")&&(ue(f.fields)==="object"||ue(f.defaultField)==="object");p=p&&(f.required||!f.required&&g.value),f.field=g.field;function y(R,x){return S(S({},x),{},{fullField:"".concat(f.fullField,".").concat(R),fullFields:f.fullFields?[].concat(L(f.fullFields),[R]):[R]})}function b(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],x=Array.isArray(R)?R:[R];!s.suppressWarning&&x.length&&a.warning("async-validator:",x),x.length&&f.message!==void 0&&(x=[].concat(f.message));var E=x.map(Sn(f,o));if(s.first&&E.length)return w[f.field]=1,m(E);if(!p)m(E);else{if(f.required&&!g.value)return f.message!==void 0?E=[].concat(f.message).map(Sn(f,o)):s.error&&(E=[s.error(f,he(s.messages.required,f.field))]),m(E);var k={};f.defaultField&&Object.keys(g.value).map(function(A){k[A]=f.defaultField}),k=S(S({},k),g.rule.fields);var $={};Object.keys(k).forEach(function(A){var T=k[A],G=Array.isArray(T)?T:[T];$[A]=G.map(y.bind(null,A))});var I=new a($);I.messages(s.messages),g.rule.options&&(g.rule.options.messages=s.messages,g.rule.options.error=s.error),I.validate(g.value,g.rule.options||s,function(A){var T=[];E&&E.length&&T.push.apply(T,L(E)),A&&A.length&&T.push.apply(T,L(A)),m(T.length?T:null)})}}var V;if(f.asyncValidator)V=f.asyncValidator(f,g.value,b,g.source,s);else if(f.validator){try{V=f.validator(f,g.value,b,g.source,s)}catch(R){var P,C;(P=(C=console).error)===null||P===void 0||P.call(C,R),s.suppressValidatorError||setTimeout(function(){throw R},0),b(R.message)}V===!0?b():V===!1?b(typeof f.message=="function"?f.message(f.fullField||f.field):f.message||"".concat(f.fullField||f.field," fails")):V instanceof Array?b(V):V instanceof Error&&b(V.message)}V&&V.then&&V.then(function(){return b()},function(R){return b(R)})},function(g){c(g)},o)}},{key:"getType",value:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!Wr.hasOwnProperty(e.type))throw new Error(he("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if(typeof e.validator=="function")return e.validator;var n=Object.keys(e),r=n.indexOf("message");return r!==-1&&n.splice(r,1),n.length===1&&n[0]==="required"?Wr.required:Wr[this.getType(e)]||void 0}}]),a}();F(zr,"register",function(t,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");Wr[t]=e});F(zr,"warning",za);F(zr,"messages",en);F(zr,"validators",Wr);var ve="'${name}' is not a valid ${type}",Yn={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ve,method:ve,array:ve,object:ve,number:ve,date:ve,boolean:ve,integer:ve,float:ve,regexp:ve,email:ve,url:ve,hex:ve},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},$n=zr;function yi(a,t){return a.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]})}var Nn="CODE_LOGIC_ERROR";function nn(a,t,e,n,r){return an.apply(this,arguments)}function an(){return an=Or(qe().mark(function a(t,e,n,r,i){var o,s,l,c,u,v,h,w,g;return qe().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=S({},n),delete o.ruleIndex,$n.warning=function(){},o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(p){return console.error(p),Promise.reject(Nn)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),c=new $n(F({},t,[o])),u=qr(Yn,r.validateMessages),c.messages(u),v=[],f.prev=10,f.next=13,Promise.resolve(c.validate(F({},t,e),S({},r)));case 13:f.next=18;break;case 15:f.prev=15,f.t0=f.catch(10),f.t0.errors&&(v=f.t0.errors.map(function(p,y){var b=p.message,V=b===Nn?u.default:b;return d.isValidElement(V)?d.cloneElement(V,{key:"error_".concat(y)}):V}));case 18:if(!(!v.length&&l)){f.next=23;break}return f.next=21,Promise.all(e.map(function(p,y){return nn("".concat(t,".").concat(y),p,l,r,i)}));case 21:return h=f.sent,f.abrupt("return",h.reduce(function(p,y){return[].concat(L(p),L(y))},[]));case 23:return w=S(S({},n),{},{name:t,enum:(n.enum||[]).join(", ")},i),g=v.map(function(p){return typeof p=="string"?yi(p,w):p}),f.abrupt("return",g);case 26:case"end":return f.stop()}},a,null,[[10,15]])})),an.apply(this,arguments)}function pi(a,t,e,n,r,i){var o=a.join("."),s=e.map(function(u,v){var h=u.validator,w=S(S({},u),{},{ruleIndex:v});return h&&(w.validator=function(g,m,f){var p=!1,y=function(){for(var P=arguments.length,C=new Array(P),R=0;R<P;R++)C[R]=arguments[R];Promise.resolve().then(function(){er(!p,"Your validator function has already return a promise. `callback` will be ignored."),p||f.apply(void 0,C)})},b=h(g,m,y);p=b&&typeof b.then=="function"&&typeof b.catch=="function",er(p,"`callback` is deprecated. Please return a promise instead."),p&&b.then(function(){f()}).catch(function(V){f(V||" ")})}),w}).sort(function(u,v){var h=u.warningOnly,w=u.ruleIndex,g=v.warningOnly,m=v.ruleIndex;return!!h==!!g?w-m:h?1:-1}),l;if(r===!0)l=new Promise(function(){var u=Or(qe().mark(function v(h,w){var g,m,f;return qe().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:g=0;case 1:if(!(g<s.length)){y.next=12;break}return m=s[g],y.next=5,nn(o,t,m,n,i);case 5:if(f=y.sent,!f.length){y.next=9;break}return w([{errors:f,rule:m}]),y.abrupt("return");case 9:g+=1,y.next=1;break;case 12:h([]);case 13:case"end":return y.stop()}},v)}));return function(v,h){return u.apply(this,arguments)}}());else{var c=s.map(function(u){return nn(o,t,u,n,i).then(function(v){return{errors:v,rule:u}})});l=(r?wi(c):Fi(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function Fi(a){return on.apply(this,arguments)}function on(){return on=Or(qe().mark(function a(t){return qe().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(t).then(function(r){var i,o=(i=[]).concat.apply(i,L(r));return o}));case 1:case"end":return n.stop()}},a)})),on.apply(this,arguments)}function wi(a){return sn.apply(this,arguments)}function sn(){return sn=Or(qe().mark(function a(t){var e;return qe().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=0,r.abrupt("return",new Promise(function(i){t.forEach(function(o){o.then(function(s){s.errors.length&&i([s]),e+=1,e===t.length&&i([])})})}));case 2:case"end":return r.stop()}},a)})),sn.apply(this,arguments)}function Y(a){return Yt(a)}function Tn(a,t){var e={};return t.forEach(function(n){var r=fr(a,n);e=Ye(e,n,r)}),e}function Pr(a,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return a&&a.some(function(n){return Xn(t,n,e)})}function Xn(a,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!a||!t||!e&&a.length!==t.length?!1:t.every(function(n,r){return a[r]===n})}function bi(a,t){if(a===t)return!0;if(!a&&t||a&&!t||!a||!t||ue(a)!=="object"||ue(t)!=="object")return!1;var e=Object.keys(a),n=Object.keys(t),r=new Set([].concat(e,n));return L(r).every(function(i){var o=a[i],s=t[i];return typeof o=="function"&&typeof s=="function"?!0:o===s})}function Ci(a){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&ue(t.target)==="object"&&a in t.target?t.target[a]:t}function Ln(a,t,e){var n=a.length;if(t<0||t>=n||e<0||e>=n)return a;var r=a[t],i=t-e;return i>0?[].concat(L(a.slice(0,e)),[r],L(a.slice(e,t)),L(a.slice(t+1,n))):i<0?[].concat(L(a.slice(0,t)),L(a.slice(t+1,e+1)),[r],L(a.slice(e+1,n))):a}var Pi=["name"],Ce=[];function Bt(a,t,e,n,r,i){return typeof a=="function"?a(t,e,"source"in i?{source:i.source}:{}):n!==r}var hn=function(a){cn(e,a);var t=fn(e);function e(n){var r;if(Vr(this,e),r=t.call(this,n),F(H(r),"state",{resetCount:0}),F(H(r),"cancelRegisterFunc",null),F(H(r),"mounted",!1),F(H(r),"touched",!1),F(H(r),"dirty",!1),F(H(r),"validatePromise",void 0),F(H(r),"prevValidating",void 0),F(H(r),"errors",Ce),F(H(r),"warnings",Ce),F(H(r),"cancelRegister",function(){var l=r.props,c=l.preserve,u=l.isListField,v=l.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(u,c,Y(v)),r.cancelRegisterFunc=null}),F(H(r),"getNamePath",function(){var l=r.props,c=l.name,u=l.fieldContext,v=u.prefixName,h=v===void 0?[]:v;return c!==void 0?[].concat(L(h),L(c)):[]}),F(H(r),"getRules",function(){var l=r.props,c=l.rules,u=c===void 0?[]:c,v=l.fieldContext;return u.map(function(h){return typeof h=="function"?h(v):h})}),F(H(r),"refresh",function(){r.mounted&&r.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),F(H(r),"metaCache",null),F(H(r),"triggerMetaEvent",function(l){var c=r.props.onMetaChange;if(c){var u=S(S({},r.getMeta()),{},{destroy:l});Fn(r.metaCache,u)||c(u),r.metaCache=u}else r.metaCache=null}),F(H(r),"onStoreChange",function(l,c,u){var v=r.props,h=v.shouldUpdate,w=v.dependencies,g=w===void 0?[]:w,m=v.onReset,f=u.store,p=r.getNamePath(),y=r.getValue(l),b=r.getValue(f),V=c&&Pr(c,p);switch(u.type==="valueUpdate"&&u.source==="external"&&!Fn(y,b)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Ce,r.warnings=Ce,r.triggerMetaEvent()),u.type){case"reset":if(!c||V){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Ce,r.warnings=Ce,r.triggerMetaEvent(),m==null||m(),r.refresh();return}break;case"remove":{if(h&&Bt(h,l,f,y,b,u)){r.reRender();return}break}case"setField":{var P=u.data;if(V){"touched"in P&&(r.touched=P.touched),"validating"in P&&!("originRCField"in P)&&(r.validatePromise=P.validating?Promise.resolve([]):null),"errors"in P&&(r.errors=P.errors||Ce),"warnings"in P&&(r.warnings=P.warnings||Ce),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in P&&Pr(c,p,!0)){r.reRender();return}if(h&&!p.length&&Bt(h,l,f,y,b,u)){r.reRender();return}break}case"dependenciesUpdate":{var C=g.map(Y);if(C.some(function(R){return Pr(u.relatedFields,R)})){r.reRender();return}break}default:if(V||(!g.length||p.length||h)&&Bt(h,l,f,y,b,u)){r.reRender();return}break}h===!0&&r.reRender()}),F(H(r),"validateRules",function(l){var c=r.getNamePath(),u=r.getValue(),v=l||{},h=v.triggerName,w=v.validateOnly,g=w===void 0?!1:w,m=Promise.resolve().then(Or(qe().mark(function f(){var p,y,b,V,P,C,R;return qe().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(r.mounted){E.next=2;break}return E.abrupt("return",[]);case 2:if(p=r.props,y=p.validateFirst,b=y===void 0?!1:y,V=p.messageVariables,P=p.validateDebounce,C=r.getRules(),h&&(C=C.filter(function(k){return k}).filter(function(k){var $=k.validateTrigger;if(!$)return!0;var I=Yt($);return I.includes(h)})),!(P&&h)){E.next=10;break}return E.next=8,new Promise(function(k){setTimeout(k,P)});case 8:if(r.validatePromise===m){E.next=10;break}return E.abrupt("return",[]);case 10:return R=pi(c,u,C,l,b,V),R.catch(function(k){return k}).then(function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce;if(r.validatePromise===m){var $;r.validatePromise=null;var I=[],A=[];($=k.forEach)===null||$===void 0||$.call(k,function(T){var G=T.rule.warningOnly,O=T.errors,Q=O===void 0?Ce:O;G?A.push.apply(A,L(Q)):I.push.apply(I,L(Q))}),r.errors=I,r.warnings=A,r.triggerMetaEvent(),r.reRender()}}),E.abrupt("return",R);case 13:case"end":return E.stop()}},f)})));return g||(r.validatePromise=m,r.dirty=!0,r.errors=Ce,r.warnings=Ce,r.triggerMetaEvent(),r.reRender()),m}),F(H(r),"isFieldValidating",function(){return!!r.validatePromise}),F(H(r),"isFieldTouched",function(){return r.touched}),F(H(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var l=r.props.fieldContext,c=l.getInternalHooks(dr),u=c.getInitialValue;return u(r.getNamePath())!==void 0}),F(H(r),"getErrors",function(){return r.errors}),F(H(r),"getWarnings",function(){return r.warnings}),F(H(r),"isListField",function(){return r.props.isListField}),F(H(r),"isList",function(){return r.props.isList}),F(H(r),"isPreserve",function(){return r.props.preserve}),F(H(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var l={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return l}),F(H(r),"getOnlyChild",function(l){if(typeof l=="function"){var c=r.getMeta();return S(S({},r.getOnlyChild(l(r.getControlled(),c,r.props.fieldContext))),{},{isFunction:!0})}var u=gt(l);return u.length!==1||!d.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),F(H(r),"getValue",function(l){var c=r.props.fieldContext.getFieldsValue,u=r.getNamePath();return fr(l||c(!0),u)}),F(H(r),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=r.props,u=c.name,v=c.trigger,h=c.validateTrigger,w=c.getValueFromEvent,g=c.normalize,m=c.valuePropName,f=c.getValueProps,p=c.fieldContext,y=h!==void 0?h:p.validateTrigger,b=r.getNamePath(),V=p.getInternalHooks,P=p.getFieldsValue,C=V(dr),R=C.dispatch,x=r.getValue(),E=f||function(T){return F({},m,T)},k=l[v],$=u!==void 0?E(x):{},I=S(S({},l),$);I[v]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var T,G=arguments.length,O=new Array(G),Q=0;Q<G;Q++)O[Q]=arguments[Q];w?T=w.apply(void 0,O):T=Ci.apply(void 0,[m].concat(O)),g&&(T=g(T,x,P(!0))),T!==x&&R({type:"updateValue",namePath:b,value:T}),k&&k.apply(void 0,O)};var A=Yt(y||[]);return A.forEach(function(T){var G=I[T];I[T]=function(){G&&G.apply(void 0,arguments);var O=r.props.rules;O&&O.length&&R({type:"validateField",namePath:b,triggerName:T})}}),I}),n.fieldContext){var i=n.fieldContext.getInternalHooks,o=i(dr),s=o.initEntityValue;s(H(r))}return r}return Mr(e,[{key:"componentDidMount",value:function(){var r=this.props,i=r.shouldUpdate,o=r.fieldContext;if(this.mounted=!0,o){var s=o.getInternalHooks,l=s(dr),c=l.registerField;this.cancelRegisterFunc=c(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var r=this.state.resetCount,i=this.props.children,o=this.getOnlyChild(i),s=o.child,l=o.isFunction,c;return l?c=s:d.isValidElement(s)?c=d.cloneElement(s,this.getControlled(s.props)):(er(!s,"`children` of Field is not validate ReactElement."),c=s),d.createElement(d.Fragment,{key:r},c)}}]),e}(d.Component);F(hn,"contextType",Er);F(hn,"defaultProps",{trigger:"onChange",valuePropName:"value"});function ea(a){var t,e=a.name,n=mt(a,Pi),r=d.useContext(Er),i=d.useContext(ht),o=e!==void 0?Y(e):void 0,s=(t=n.isListField)!==null&&t!==void 0?t:!!i,l="keep";return s||(l="_".concat((o||[]).join("_"))),d.createElement(hn,jr({key:l,name:o,isListField:s},n,{fieldContext:r}))}function Ei(a){var t=a.name,e=a.initialValue,n=a.children,r=a.rules,i=a.validateTrigger,o=a.isListField,s=d.useContext(Er),l=d.useContext(ht),c=d.useRef({keys:[],id:0}),u=c.current,v=d.useMemo(function(){var m=Y(s.prefixName)||[];return[].concat(L(m),L(Y(t)))},[s.prefixName,t]),h=d.useMemo(function(){return S(S({},s),{},{prefixName:v})},[s,v]),w=d.useMemo(function(){return{getKey:function(f){var p=v.length,y=f[p];return[u.keys[y],f.slice(p+1)]}}},[v]);if(typeof n!="function")return er(!1,"Form.List only accepts function as children."),null;var g=function(f,p,y){var b=y.source;return b==="internal"?!1:f!==p};return d.createElement(ht.Provider,{value:w},d.createElement(Er.Provider,{value:h},d.createElement(ea,{name:[],shouldUpdate:g,rules:r,validateTrigger:i,initialValue:e,isList:!0,isListField:o??!!l},function(m,f){var p=m.value,y=p===void 0?[]:p,b=m.onChange,V=s.getFieldValue,P=function(){var E=V(v||[]);return E||[]},C={add:function(E,k){var $=P();k>=0&&k<=$.length?(u.keys=[].concat(L(u.keys.slice(0,k)),[u.id],L(u.keys.slice(k))),b([].concat(L($.slice(0,k)),[E],L($.slice(k))))):(u.keys=[].concat(L(u.keys),[u.id]),b([].concat(L($),[E]))),u.id+=1},remove:function(E){var k=P(),$=new Set(Array.isArray(E)?E:[E]);$.size<=0||(u.keys=u.keys.filter(function(I,A){return!$.has(A)}),b(k.filter(function(I,A){return!$.has(A)})))},move:function(E,k){if(E!==k){var $=P();E<0||E>=$.length||k<0||k>=$.length||(u.keys=Ln(u.keys,E,k),b(Ln($,E,k)))}}},R=y||[];return Array.isArray(R)||(R=[]),n(R.map(function(x,E){var k=u.keys[E];return k===void 0&&(u.keys[E]=u.id,k=u.keys[E],u.id+=1),{name:E,key:k,isListField:!0}}),C,f)})))}function Vi(a){var t=!1,e=a.length,n=[];return a.length?new Promise(function(r,i){a.forEach(function(o,s){o.catch(function(l){return t=!0,l}).then(function(l){e-=1,n[s]=l,!(e>0)&&(t&&i(n),r(n))})})}):Promise.resolve([])}var ra="__@field_split__";function Kt(a){return a.map(function(t){return"".concat(ue(t),":").concat(t)}).join(ra)}var wr=function(){function a(){Vr(this,a),F(this,"kvs",new Map)}return Mr(a,[{key:"set",value:function(e,n){this.kvs.set(Kt(e),n)}},{key:"get",value:function(e){return this.kvs.get(Kt(e))}},{key:"update",value:function(e,n){var r=this.get(e),i=n(r);i?this.set(e,i):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Kt(e))}},{key:"map",value:function(e){return L(this.kvs.entries()).map(function(n){var r=j(n,2),i=r[0],o=r[1],s=i.split(ra);return e({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=j(c,3),v=u[1],h=u[2];return v==="number"?Number(h):h}),value:o})})}},{key:"toJSON",value:function(){var e={};return this.map(function(n){var r=n.key,i=n.value;return e[r.join(".")]=i,null}),e}}]),a}(),Mi=["name"],ki=Mr(function a(t){var e=this;Vr(this,a),F(this,"formHooked",!1),F(this,"forceRootUpdate",void 0),F(this,"subscribable",!0),F(this,"store",{}),F(this,"fieldEntities",[]),F(this,"initialValues",{}),F(this,"callbacks",{}),F(this,"validateMessages",null),F(this,"preserve",null),F(this,"lastValidatePromise",null),F(this,"getForm",function(){return{getFieldValue:e.getFieldValue,getFieldsValue:e.getFieldsValue,getFieldError:e.getFieldError,getFieldWarning:e.getFieldWarning,getFieldsError:e.getFieldsError,isFieldsTouched:e.isFieldsTouched,isFieldTouched:e.isFieldTouched,isFieldValidating:e.isFieldValidating,isFieldsValidating:e.isFieldsValidating,resetFields:e.resetFields,setFields:e.setFields,setFieldValue:e.setFieldValue,setFieldsValue:e.setFieldsValue,validateFields:e.validateFields,submit:e.submit,_init:!0,getInternalHooks:e.getInternalHooks}}),F(this,"getInternalHooks",function(n){return n===dr?(e.formHooked=!0,{dispatch:e.dispatch,initEntityValue:e.initEntityValue,registerField:e.registerField,useSubscribe:e.useSubscribe,setInitialValues:e.setInitialValues,destroyForm:e.destroyForm,setCallbacks:e.setCallbacks,setValidateMessages:e.setValidateMessages,getFields:e.getFields,setPreserve:e.setPreserve,getInitialValue:e.getInitialValue,registerWatch:e.registerWatch}):(er(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),F(this,"useSubscribe",function(n){e.subscribable=n}),F(this,"prevWithoutPreserves",null),F(this,"setInitialValues",function(n,r){if(e.initialValues=n||{},r){var i,o=qr(n,e.store);(i=e.prevWithoutPreserves)===null||i===void 0||i.map(function(s){var l=s.key;o=Ye(o,l,fr(n,l))}),e.prevWithoutPreserves=null,e.updateStore(o)}}),F(this,"destroyForm",function(n){if(n)e.updateStore({});else{var r=new wr;e.getFieldEntities(!0).forEach(function(i){e.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),e.prevWithoutPreserves=r}}),F(this,"getInitialValue",function(n){var r=fr(e.initialValues,n);return n.length?qr(r):r}),F(this,"setCallbacks",function(n){e.callbacks=n}),F(this,"setValidateMessages",function(n){e.validateMessages=n}),F(this,"setPreserve",function(n){e.preserve=n}),F(this,"watchList",[]),F(this,"registerWatch",function(n){return e.watchList.push(n),function(){e.watchList=e.watchList.filter(function(r){return r!==n})}}),F(this,"notifyWatch",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(e.watchList.length){var r=e.getFieldsValue(),i=e.getFieldsValue(!0);e.watchList.forEach(function(o){o(r,i,n)})}}),F(this,"timeoutId",null),F(this,"warningUnhooked",function(){}),F(this,"updateStore",function(n){e.store=n}),F(this,"getFieldEntities",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return n?e.fieldEntities.filter(function(r){return r.getNamePath().length}):e.fieldEntities}),F(this,"getFieldsMap",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new wr;return e.getFieldEntities(n).forEach(function(i){var o=i.getNamePath();r.set(o,i)}),r}),F(this,"getFieldEntitiesForNamePathList",function(n){if(!n)return e.getFieldEntities(!0);var r=e.getFieldsMap(!0);return n.map(function(i){var o=Y(i);return r.get(o)||{INVALIDATE_NAME_PATH:Y(i)}})}),F(this,"getFieldsValue",function(n,r){e.warningUnhooked();var i,o,s;if(n===!0||Array.isArray(n)?(i=n,o=r):n&&ue(n)==="object"&&(s=n.strict,o=n.filter),i===!0&&!o)return e.store;var l=e.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),c=[];return l.forEach(function(u){var v,h,w="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(s){var g,m;if((g=(m=u).isList)!==null&&g!==void 0&&g.call(m))return}else if(!i&&(v=(h=u).isListField)!==null&&v!==void 0&&v.call(h))return;if(!o)c.push(w);else{var f="getMeta"in u?u.getMeta():null;o(f)&&c.push(w)}}),Tn(e.store,c.map(Y))}),F(this,"getFieldValue",function(n){e.warningUnhooked();var r=Y(n);return fr(e.store,r)}),F(this,"getFieldsError",function(n){e.warningUnhooked();var r=e.getFieldEntitiesForNamePathList(n);return r.map(function(i,o){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:Y(n[o]),errors:[],warnings:[]}})}),F(this,"getFieldError",function(n){e.warningUnhooked();var r=Y(n),i=e.getFieldsError([r])[0];return i.errors}),F(this,"getFieldWarning",function(n){e.warningUnhooked();var r=Y(n),i=e.getFieldsError([r])[0];return i.warnings}),F(this,"isFieldsTouched",function(){e.warningUnhooked();for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[0],s=r[1],l,c=!1;r.length===0?l=null:r.length===1?Array.isArray(o)?(l=o.map(Y),c=!1):(l=null,c=o):(l=o.map(Y),c=s);var u=e.getFieldEntities(!0),v=function(f){return f.isFieldTouched()};if(!l)return c?u.every(function(m){return v(m)||m.isList()}):u.some(v);var h=new wr;l.forEach(function(m){h.set(m,[])}),u.forEach(function(m){var f=m.getNamePath();l.forEach(function(p){p.every(function(y,b){return f[b]===y})&&h.update(p,function(y){return[].concat(L(y),[m])})})});var w=function(f){return f.some(v)},g=h.map(function(m){var f=m.value;return f});return c?g.every(w):g.some(w)}),F(this,"isFieldTouched",function(n){return e.warningUnhooked(),e.isFieldsTouched([n])}),F(this,"isFieldsValidating",function(n){e.warningUnhooked();var r=e.getFieldEntities();if(!n)return r.some(function(o){return o.isFieldValidating()});var i=n.map(Y);return r.some(function(o){var s=o.getNamePath();return Pr(i,s)&&o.isFieldValidating()})}),F(this,"isFieldValidating",function(n){return e.warningUnhooked(),e.isFieldsValidating([n])}),F(this,"resetWithFieldInitialValue",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new wr,i=e.getFieldEntities(!0);i.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var v=r.get(u)||new Set;v.add({entity:l,value:c}),r.set(u,v)}});var o=function(c){c.forEach(function(u){var v=u.props.initialValue;if(v!==void 0){var h=u.getNamePath(),w=e.getInitialValue(h);if(w!==void 0)er(!1,"Form already set 'initialValues' with path '".concat(h.join("."),"'. Field can not overwrite it."));else{var g=r.get(h);if(g&&g.size>1)er(!1,"Multiple Field with path '".concat(h.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var m=e.getFieldValue(h),f=u.isListField();!f&&(!n.skipExist||m===void 0)&&e.updateStore(Ye(e.store,h,L(g)[0].value))}}}})},s;n.entities?s=n.entities:n.namePathList?(s=[],n.namePathList.forEach(function(l){var c=r.get(l);if(c){var u;(u=s).push.apply(u,L(L(c).map(function(v){return v.entity})))}})):s=i,o(s)}),F(this,"resetFields",function(n){e.warningUnhooked();var r=e.store;if(!n){e.updateStore(qr(e.initialValues)),e.resetWithFieldInitialValue(),e.notifyObservers(r,null,{type:"reset"}),e.notifyWatch();return}var i=n.map(Y);i.forEach(function(o){var s=e.getInitialValue(o);e.updateStore(Ye(e.store,o,s))}),e.resetWithFieldInitialValue({namePathList:i}),e.notifyObservers(r,i,{type:"reset"}),e.notifyWatch(i)}),F(this,"setFields",function(n){e.warningUnhooked();var r=e.store,i=[];n.forEach(function(o){var s=o.name,l=mt(o,Mi),c=Y(s);i.push(c),"value"in l&&e.updateStore(Ye(e.store,c,l.value)),e.notifyObservers(r,[c],{type:"setField",data:o})}),e.notifyWatch(i)}),F(this,"getFields",function(){var n=e.getFieldEntities(!0),r=n.map(function(i){var o=i.getNamePath(),s=i.getMeta(),l=S(S({},s),{},{name:o,value:e.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return r}),F(this,"initEntityValue",function(n){var r=n.props.initialValue;if(r!==void 0){var i=n.getNamePath(),o=fr(e.store,i);o===void 0&&e.updateStore(Ye(e.store,i,r))}}),F(this,"isMergedPreserve",function(n){var r=n!==void 0?n:e.preserve;return r??!0}),F(this,"registerField",function(n){e.fieldEntities.push(n);var r=n.getNamePath();if(e.notifyWatch([r]),n.props.initialValue!==void 0){var i=e.store;e.resetWithFieldInitialValue({entities:[n],skipExist:!0}),e.notifyObservers(i,[n.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.fieldEntities=e.fieldEntities.filter(function(v){return v!==n}),!e.isMergedPreserve(s)&&(!o||l.length>1)){var c=o?void 0:e.getInitialValue(r);if(r.length&&e.getFieldValue(r)!==c&&e.fieldEntities.every(function(v){return!Xn(v.getNamePath(),r)})){var u=e.store;e.updateStore(Ye(u,r,c,!0)),e.notifyObservers(u,[r],{type:"remove"}),e.triggerDependenciesUpdate(u,r)}}e.notifyWatch([r])}}),F(this,"dispatch",function(n){switch(n.type){case"updateValue":{var r=n.namePath,i=n.value;e.updateValue(r,i);break}case"validateField":{var o=n.namePath,s=n.triggerName;e.validateFields([o],{triggerName:s});break}}}),F(this,"notifyObservers",function(n,r,i){if(e.subscribable){var o=S(S({},i),{},{store:e.getFieldsValue(!0)});e.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(n,r,o)})}else e.forceRootUpdate()}),F(this,"triggerDependenciesUpdate",function(n,r){var i=e.getDependencyChildrenFields(r);return i.length&&e.validateFields(i),e.notifyObservers(n,i,{type:"dependenciesUpdate",relatedFields:[r].concat(L(i))}),i}),F(this,"updateValue",function(n,r){var i=Y(n),o=e.store;e.updateStore(Ye(e.store,i,r)),e.notifyObservers(o,[i],{type:"valueUpdate",source:"internal"}),e.notifyWatch([i]);var s=e.triggerDependenciesUpdate(o,i),l=e.callbacks.onValuesChange;if(l){var c=Tn(e.store,[i]);l(c,e.getFieldsValue())}e.triggerOnFieldsChange([i].concat(L(s)))}),F(this,"setFieldsValue",function(n){e.warningUnhooked();var r=e.store;if(n){var i=qr(e.store,n);e.updateStore(i)}e.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),e.notifyWatch()}),F(this,"setFieldValue",function(n,r){e.setFields([{name:n,value:r,errors:[],warnings:[]}])}),F(this,"getDependencyChildrenFields",function(n){var r=new Set,i=[],o=new wr;e.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var v=Y(u);o.update(v,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(l),h})})});var s=function l(c){var u=o.get(c)||new Set;u.forEach(function(v){if(!r.has(v)){r.add(v);var h=v.getNamePath();v.isFieldDirty()&&h.length&&(i.push(h),l(h))}})};return s(n),i}),F(this,"triggerOnFieldsChange",function(n,r){var i=e.callbacks.onFieldsChange;if(i){var o=e.getFields();if(r){var s=new wr;r.forEach(function(c){var u=c.name,v=c.errors;s.set(u,v)}),o.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=o.filter(function(c){var u=c.name;return Pr(n,u)});l.length&&i(l,o)}}),F(this,"validateFields",function(n,r){e.warningUnhooked();var i,o;Array.isArray(n)||typeof n=="string"||typeof r=="string"?(i=n,o=r):o=n;var s=!!i,l=s?i.map(Y):[],c=[],u=String(Date.now()),v=new Set,h=o||{},w=h.recursive,g=h.dirty;e.getFieldEntities(!0).forEach(function(y){if(s||l.push(y.getNamePath()),!(!y.props.rules||!y.props.rules.length)&&!(g&&!y.isFieldDirty())){var b=y.getNamePath();if(v.add(b.join(u)),!s||Pr(l,b,w)){var V=y.validateRules(S({validateMessages:S(S({},Yn),e.validateMessages)},o));c.push(V.then(function(){return{name:b,errors:[],warnings:[]}}).catch(function(P){var C,R=[],x=[];return(C=P.forEach)===null||C===void 0||C.call(P,function(E){var k=E.rule.warningOnly,$=E.errors;k?x.push.apply(x,L($)):R.push.apply(R,L($))}),R.length?Promise.reject({name:b,errors:R,warnings:x}):{name:b,errors:R,warnings:x}}))}}});var m=Vi(c);e.lastValidatePromise=m,m.catch(function(y){return y}).then(function(y){var b=y.map(function(V){var P=V.name;return P});e.notifyObservers(e.store,b,{type:"validateFinish"}),e.triggerOnFieldsChange(b,y)});var f=m.then(function(){return e.lastValidatePromise===m?Promise.resolve(e.getFieldsValue(l)):Promise.reject([])}).catch(function(y){var b=y.filter(function(V){return V&&V.errors.length});return Promise.reject({values:e.getFieldsValue(l),errorFields:b,outOfDate:e.lastValidatePromise!==m})});f.catch(function(y){return y});var p=l.filter(function(y){return v.has(y.join(u))});return e.triggerOnFieldsChange(p),f}),F(this,"submit",function(){e.warningUnhooked(),e.validateFields().then(function(n){var r=e.callbacks.onFinish;if(r)try{r(n)}catch(i){console.error(i)}}).catch(function(n){var r=e.callbacks.onFinishFailed;r&&r(n)})}),this.forceRootUpdate=t});function ta(a){var t=d.useRef(),e=d.useState({}),n=j(e,2),r=n[1];if(!t.current)if(a)t.current=a;else{var i=function(){r({})},o=new ki(i);t.current=o.getForm()}return[t.current]}var un=d.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Si=function(t){var e=t.validateMessages,n=t.onFormChange,r=t.onFormFinish,i=t.children,o=d.useContext(un),s=d.useRef({});return d.createElement(un.Provider,{value:S(S({},o),{},{validateMessages:S(S({},o.validateMessages),e),triggerFormChange:function(c,u){n&&n(c,{changedFields:u,forms:s.current}),o.triggerFormChange(c,u)},triggerFormFinish:function(c,u){r&&r(c,{values:u,forms:s.current}),o.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(s.current=S(S({},s.current),{},F({},c,u))),o.registerForm(c,u)},unregisterForm:function(c){var u=S({},s.current);delete u[c],s.current=u,o.unregisterForm(c)}})},i)},Ri=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],xi=function(t,e){var n=t.name,r=t.initialValues,i=t.fields,o=t.form,s=t.preserve,l=t.children,c=t.component,u=c===void 0?"form":c,v=t.validateMessages,h=t.validateTrigger,w=h===void 0?"onChange":h,g=t.onValuesChange,m=t.onFieldsChange,f=t.onFinish,p=t.onFinishFailed,y=t.clearOnDestroy,b=mt(t,Ri),V=d.useRef(null),P=d.useContext(un),C=ta(o),R=j(C,1),x=R[0],E=x.getInternalHooks(dr),k=E.useSubscribe,$=E.setInitialValues,I=E.setCallbacks,A=E.setValidateMessages,T=E.setPreserve,G=E.destroyForm;d.useImperativeHandle(e,function(){return S(S({},x),{},{nativeElement:V.current})}),d.useEffect(function(){return P.registerForm(n,x),function(){P.unregisterForm(n)}},[P,x,n]),A(S(S({},P.validateMessages),v)),I({onValuesChange:g,onFieldsChange:function(D){if(P.triggerFormChange(n,D),m){for(var Z=arguments.length,Se=new Array(Z>1?Z-1:0),Re=1;Re<Z;Re++)Se[Re-1]=arguments[Re];m.apply(void 0,[D].concat(Se))}},onFinish:function(D){P.triggerFormFinish(n,D),f&&f(D)},onFinishFailed:p}),T(s);var O=d.useRef(null);$(r,!O.current),O.current||(O.current=!0),d.useEffect(function(){return function(){return G(y)}},[]);var Q,ee=typeof l=="function";if(ee){var ne=x.getFieldsValue(!0);Q=l(ne,x)}else Q=l;k(!ee);var W=d.useRef();d.useEffect(function(){bi(W.current||[],i||[])||x.setFields(i||[]),W.current=i},[i,x]);var Ie=d.useMemo(function(){return S(S({},x),{},{validateTrigger:w})},[x,w]),le=d.createElement(ht.Provider,{value:null},d.createElement(Er.Provider,{value:Ie},Q));return u===!1?le:d.createElement(u,jr({},b,{ref:V,onSubmit:function(D){D.preventDefault(),D.stopPropagation(),x.submit()},onReset:function(D){var Z;D.preventDefault(),x.resetFields(),(Z=b.onReset)===null||Z===void 0||Z.call(b,D)}}),le)};function An(a){try{return JSON.stringify(a)}catch{return Math.random()}}function $i(){for(var a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];var n=t[0],r=t[1],i=r===void 0?{}:r,o=Wa(i)?{form:i}:i,s=o.form,l=d.useState(),c=j(l,2),u=c[0],v=c[1],h=d.useMemo(function(){return An(u)},[u]),w=d.useRef(h);w.current=h;var g=d.useContext(Er),m=s||g,f=m&&m._init,p=Y(n),y=d.useRef(p);return y.current=p,d.useEffect(function(){if(f){var b=m.getFieldsValue,V=m.getInternalHooks,P=V(dr),C=P.registerWatch,R=function($,I){var A=o.preserve?I:$;return typeof n=="function"?n(A):fr(A,y.current)},x=C(function(k,$){var I=R(k,$),A=An(I);w.current!==A&&(w.current=A,v(I))}),E=R(b(),b(!0));return u!==E&&v(E),x}},[f]),u}var Ni=d.forwardRef(xi),Ur=Ni;Ur.FormProvider=Si;Ur.Field=ea;Ur.List=Ei;Ur.useForm=ta;Ur.useWatch=$i;const Dn=d.createContext({}),to=a=>{let{children:t,status:e,override:n}=a;const r=d.useContext(Dn),i=d.useMemo(()=>{const o=Object.assign({},r);return n&&delete o.isFormItemInput,e&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[e,n,r]);return d.createElement(Dn.Provider,{value:i},t)},Ti=d.createContext(void 0),Li=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var a=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a==null?void 0:a.substr(0,4))};function Ai(a){var t=a.prefixCls,e=a.align,n=a.arrow,r=a.arrowPos,i=n||{},o=i.className,s=i.content,l=r.x,c=l===void 0?0:l,u=r.y,v=u===void 0?0:u,h=d.useRef();if(!e||!e.points)return null;var w={position:"absolute"};if(e.autoArrow!==!1){var g=e.points[0],m=e.points[1],f=g[0],p=g[1],y=m[0],b=m[1];f===y||!["t","b"].includes(f)?w.top=v:f==="t"?w.top=0:w.bottom=0,p===b||!["l","r"].includes(p)?w.left=c:p==="l"?w.left=0:w.right=0}return d.createElement("div",{ref:h,className:Cr("".concat(t,"-arrow"),o),style:w},s)}function Di(a){var t=a.prefixCls,e=a.open,n=a.zIndex,r=a.mask,i=a.motion;return r?d.createElement(Kn,jr({},i,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(o){var s=o.className;return d.createElement("div",{style:{zIndex:n},className:Cr("".concat(t,"-mask"),s)})}):null}var qi=d.memo(function(a){var t=a.children;return t},function(a,t){return t.cache}),Ii=d.forwardRef(function(a,t){var e=a.popup,n=a.className,r=a.prefixCls,i=a.style,o=a.target,s=a.onVisibleChanged,l=a.open,c=a.keepDom,u=a.fresh,v=a.onClick,h=a.mask,w=a.arrow,g=a.arrowPos,m=a.align,f=a.motion,p=a.maskMotion,y=a.forceRender,b=a.getPopupContainer,V=a.autoDestroy,P=a.portal,C=a.zIndex,R=a.onMouseEnter,x=a.onMouseLeave,E=a.onPointerEnter,k=a.onPointerDownCapture,$=a.ready,I=a.offsetX,A=a.offsetY,T=a.offsetR,G=a.offsetB,O=a.onAlign,Q=a.onPrepare,ee=a.stretch,ne=a.targetWidth,W=a.targetHeight,Ie=typeof e=="function"?e():e,le=l||c,X=(b==null?void 0:b.length)>0,D=d.useState(!b||!X),Z=j(D,2),Se=Z[0],Re=Z[1];if(ge(function(){!Se&&X&&o&&Re(!0)},[Se,X,o]),!Se)return null;var xe="auto",fe={left:"-1000vw",top:"-1000vh",right:xe,bottom:xe};if($||!l){var ze,rr=m.points,me=m.dynamicInset||((ze=m._experimental)===null||ze===void 0?void 0:ze.dynamicInset),$e=me&&rr[0][1]==="r",Pe=me&&rr[0][0]==="b";$e?(fe.right=T,fe.left=xe):(fe.left=I,fe.right=xe),Pe?(fe.bottom=G,fe.top=xe):(fe.top=A,fe.bottom=xe)}var ce={};return ee&&(ee.includes("height")&&W?ce.height=W:ee.includes("minHeight")&&W&&(ce.minHeight=W),ee.includes("width")&&ne?ce.width=ne:ee.includes("minWidth")&&ne&&(ce.minWidth=ne)),l||(ce.pointerEvents="none"),d.createElement(P,{open:y||le,getContainer:b&&function(){return b(o)},autoDestroy:V},d.createElement(Di,{prefixCls:r,open:l,zIndex:C,mask:h,motion:p}),d.createElement(gn,{onResize:O,disabled:!l},function(kr){return d.createElement(Kn,jr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(r,"-hidden")},f,{onAppearPrepare:Q,onEnterPrepare:Q,visible:l,onVisibleChanged:function(ye){var Ne;f==null||(Ne=f.onVisibleChanged)===null||Ne===void 0||Ne.call(f,ye),s(ye)}}),function(Ue,ye){var Ne=Ue.className,tr=Ue.style,ie=Cr(r,Ne,n);return d.createElement("div",{ref:fa(kr,t,ye),className:ie,style:S(S(S(S({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},fe),ce),tr),{},{boxSizing:"border-box",zIndex:C},i),onMouseEnter:R,onMouseLeave:x,onPointerEnter:E,onClick:v,onPointerDownCapture:k},w&&d.createElement(Ai,{prefixCls:r,arrow:w,arrowPos:g,align:m}),d.createElement(qi,{cache:!l&&!u},Ie))})}))}),Wi=d.forwardRef(function(a,t){var e=a.children,n=a.getTriggerDOMNode,r=dn(e),i=d.useCallback(function(s){da(t,n?n(s):s)},[n]),o=vn(i,Un(e));return r?d.cloneElement(e,{ref:o}):e}),qn=d.createContext(null);function In(a){return a?Array.isArray(a)?a:[a]:[]}function Hi(a,t,e,n){return d.useMemo(function(){var r=In(e??t),i=In(n??t),o=new Set(r),s=new Set(i);return a&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[a,t,e,n])}function ji(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?a[0]===t[0]:a[0]===t[0]&&a[1]===t[1]}function Oi(a,t,e,n){for(var r=e.points,i=Object.keys(a),o=0;o<i.length;o+=1){var s,l=i[o];if(ji((s=a[l])===null||s===void 0?void 0:s.points,r,n))return"".concat(t,"-placement-").concat(l)}return""}function Wn(a,t,e,n){return t||(e?{motionName:"".concat(a,"-").concat(e)}:n?{motionName:n}:null)}function _r(a){return a.ownerDocument.defaultView}function ln(a){for(var t=[],e=a==null?void 0:a.parentElement,n=["hidden","scroll","clip","auto"];e;){var r=_r(e).getComputedStyle(e),i=r.overflowX,o=r.overflowY,s=r.overflow;[i,o,s].some(function(l){return n.includes(l)})&&t.push(e),e=e.parentElement}return t}function Hr(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(a)?t:a}function Dr(a){return Hr(parseFloat(a),0)}function Hn(a,t){var e=S({},a);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var r=_r(n).getComputedStyle(n),i=r.overflow,o=r.overflowClipMargin,s=r.borderTopWidth,l=r.borderBottomWidth,c=r.borderLeftWidth,u=r.borderRightWidth,v=n.getBoundingClientRect(),h=n.offsetHeight,w=n.clientHeight,g=n.offsetWidth,m=n.clientWidth,f=Dr(s),p=Dr(l),y=Dr(c),b=Dr(u),V=Hr(Math.round(v.width/g*1e3)/1e3),P=Hr(Math.round(v.height/h*1e3)/1e3),C=(g-m-y-b)*V,R=(h-w-f-p)*P,x=f*P,E=p*P,k=y*V,$=b*V,I=0,A=0;if(i==="clip"){var T=Dr(o);I=T*V,A=T*P}var G=v.x+k-I,O=v.y+x-A,Q=G+v.width+2*I-k-$-C,ee=O+v.height+2*A-x-E-R;e.left=Math.max(e.left,G),e.top=Math.max(e.top,O),e.right=Math.min(e.right,Q),e.bottom=Math.min(e.bottom,ee)}}),e}function jn(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(t),n=e.match(/^(.*)\%$/);return n?a*(parseFloat(n[1])/100):parseFloat(e)}function On(a,t){var e=t||[],n=j(e,2),r=n[0],i=n[1];return[jn(a.width,r),jn(a.height,i)]}function zn(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[a[0],a[1]]}function br(a,t){var e=t[0],n=t[1],r,i;return e==="t"?i=a.y:e==="b"?i=a.y+a.height:i=a.y+a.height/2,n==="l"?r=a.x:n==="r"?r=a.x+a.width:r=a.x+a.width/2,{x:r,y:i}}function Ze(a,t){var e={t:"b",b:"t",l:"r",r:"l"};return a.map(function(n,r){return r===t?e[n]||"c":n}).join("")}function zi(a,t,e,n,r,i,o){var s=d.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[n]||{}}),l=j(s,2),c=l[0],u=l[1],v=d.useRef(0),h=d.useMemo(function(){return t?ln(t):[]},[t]),w=d.useRef({}),g=function(){w.current={}};a||g();var m=Oe(function(){if(t&&e&&a){let be=function(pr,Ge){var Qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Br,Ar=D.x+pr,lt=D.y+Ge,qt=Ar+$e,It=lt+me,Wt=Math.max(Ar,Qe.left),M=Math.max(lt,Qe.top),N=Math.min(qt,Qe.right),K=Math.min(It,Qe.bottom);return Math.max(0,(N-Wt)*(K-M))},ut=function(){or=D.y+B,sr=or+me,He=D.x+U,gr=He+$e};var y,b,V,P,C=t,R=C.ownerDocument,x=_r(C),E=x.getComputedStyle(C),k=E.width,$=E.height,I=E.position,A=C.style.left,T=C.style.top,G=C.style.right,O=C.style.bottom,Q=C.style.overflow,ee=S(S({},r[n]),i),ne=R.createElement("div");(y=C.parentElement)===null||y===void 0||y.appendChild(ne),ne.style.left="".concat(C.offsetLeft,"px"),ne.style.top="".concat(C.offsetTop,"px"),ne.style.position=I,ne.style.height="".concat(C.offsetHeight,"px"),ne.style.width="".concat(C.offsetWidth,"px"),C.style.left="0",C.style.top="0",C.style.right="auto",C.style.bottom="auto",C.style.overflow="hidden";var W;if(Array.isArray(e))W={x:e[0],y:e[1],width:0,height:0};else{var Ie,le,X=e.getBoundingClientRect();X.x=(Ie=X.x)!==null&&Ie!==void 0?Ie:X.left,X.y=(le=X.y)!==null&&le!==void 0?le:X.top,W={x:X.x,y:X.y,width:X.width,height:X.height}}var D=C.getBoundingClientRect();D.x=(b=D.x)!==null&&b!==void 0?b:D.left,D.y=(V=D.y)!==null&&V!==void 0?V:D.top;var Z=R.documentElement,Se=Z.clientWidth,Re=Z.clientHeight,xe=Z.scrollWidth,fe=Z.scrollHeight,ze=Z.scrollTop,rr=Z.scrollLeft,me=D.height,$e=D.width,Pe=W.height,ce=W.width,kr={left:0,top:0,right:Se,bottom:Re},Ue={left:-rr,top:-ze,right:xe-rr,bottom:fe-ze},ye=ee.htmlRegion,Ne="visible",tr="visibleFirst";ye!=="scroll"&&ye!==tr&&(ye=Ne);var ie=ye===tr,yt=Hn(Ue,h),_=Hn(kr,h),Br=ye===Ne?_:yt,nr=ie?_:Br;C.style.left="auto",C.style.top="auto",C.style.right="0",C.style.bottom="0";var oe=C.getBoundingClientRect();C.style.left=A,C.style.top=T,C.style.right=G,C.style.bottom=O,C.style.overflow=Q,(P=C.parentElement)===null||P===void 0||P.removeChild(ne);var _e=Hr(Math.round($e/parseFloat(k)*1e3)/1e3),We=Hr(Math.round(me/parseFloat($)*1e3)/1e3);if(_e===0||We===0||Gt(e)&&!va(e))return;var pt=ee.offset,Ft=ee.targetOffset,Kr=On(D,pt),Ee=j(Kr,2),Ve=Ee[0],pe=Ee[1],wt=On(W,Ft),ar=j(wt,2),Fe=ar[0],Be=ar[1];W.x-=Fe,W.y-=Be;var bt=ee.points||[],Jr=j(bt,2),Ct=Jr[0],Pt=Jr[1],Te=zn(Pt),de=zn(Ct),Sr=br(W,Te),se=br(D,de),Ke=S({},ee),U=Sr.x-se.x+Ve,B=Sr.y-se.y+pe,Me=be(U,B),ir=be(U,B,_),Rr=br(W,["t","l"]),we=br(D,["t","l"]),Gr=br(W,["b","r"]),xr=br(D,["b","r"]),Je=ee.overflow||{},Qr=Je.adjustX,Et=Je.adjustY,$r=Je.shiftX,vr=Je.shiftY,Nr=function(Ge){return typeof Ge=="boolean"?Ge:Ge>=0},or,sr,He,gr;ut();var ur=Nr(Et),Zr=de[0]===Te[0];if(ur&&de[0]==="t"&&(sr>nr.bottom||w.current.bt)){var ae=B;Zr?ae-=me-Pe:ae=Rr.y-xr.y-pe;var Yr=be(U,ae),Vt=be(U,ae,_);Yr>Me||Yr===Me&&(!ie||Vt>=ir)?(w.current.bt=!0,B=ae,pe=-pe,Ke.points=[Ze(de,0),Ze(Te,0)]):w.current.bt=!1}if(ur&&de[0]==="b"&&(or<nr.top||w.current.tb)){var lr=B;Zr?lr+=me-Pe:lr=Gr.y-we.y-pe;var Xr=be(U,lr),Mt=be(U,lr,_);Xr>Me||Xr===Me&&(!ie||Mt>=ir)?(w.current.tb=!0,B=lr,pe=-pe,Ke.points=[Ze(de,0),Ze(Te,0)]):w.current.tb=!1}var et=Nr(Qr),rt=de[1]===Te[1];if(et&&de[1]==="l"&&(gr>nr.right||w.current.rl)){var cr=U;rt?cr-=$e-ce:cr=Rr.x-xr.x-Ve;var tt=be(cr,B),hr=be(cr,B,_);tt>Me||tt===Me&&(!ie||hr>=ir)?(w.current.rl=!0,U=cr,Ve=-Ve,Ke.points=[Ze(de,1),Ze(Te,1)]):w.current.rl=!1}if(et&&de[1]==="r"&&(He<nr.left||w.current.lr)){var je=U;rt?je+=$e-ce:je=Gr.x-we.x-Ve;var nt=be(je,B),at=be(je,B,_);nt>Me||nt===Me&&(!ie||at>=ir)?(w.current.lr=!0,U=je,Ve=-Ve,Ke.points=[Ze(de,1),Ze(Te,1)]):w.current.lr=!1}ut();var Le=$r===!0?0:$r;typeof Le=="number"&&(He<_.left&&(U-=He-_.left-Ve,W.x+ce<_.left+Le&&(U+=W.x-_.left+ce-Le)),gr>_.right&&(U-=gr-_.right-Ve,W.x>_.right-Le&&(U+=W.x-_.right+Le)));var ke=vr===!0?0:vr;typeof ke=="number"&&(or<_.top&&(B-=or-_.top-pe,W.y+Pe<_.top+ke&&(B+=W.y-_.top+Pe-ke)),sr>_.bottom&&(B-=sr-_.bottom-pe,W.y>_.bottom-ke&&(B+=W.y-_.bottom+ke)));var mr=D.x+U,yr=mr+$e,Ae=D.y+B,kt=Ae+me,it=W.x,St=it+ce,Tr=W.y,Rt=Tr+Pe,xt=Math.max(mr,it),$t=Math.min(yr,St),ot=(xt+$t)/2,Nt=ot-mr,Tt=Math.max(Ae,Tr),st=Math.min(kt,Rt),Lt=(Tt+st)/2,At=Lt-Ae;o==null||o(t,Ke);var Lr=oe.right-D.x-(U+D.width),De=oe.bottom-D.y-(B+D.height);_e===1&&(U=Math.round(U),Lr=Math.round(Lr)),We===1&&(B=Math.round(B),De=Math.round(De));var Dt={ready:!0,offsetX:U/_e,offsetY:B/We,offsetR:Lr/_e,offsetB:De/We,arrowX:Nt/_e,arrowY:At/We,scaleX:_e,scaleY:We,align:Ke};u(Dt)}}),f=function(){v.current+=1;var b=v.current;Promise.resolve().then(function(){v.current===b&&m()})},p=function(){u(function(b){return S(S({},b),{},{ready:!1})})};return ge(p,[n]),ge(function(){a||p()},[a]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,f]}function Ui(a,t,e,n,r){ge(function(){if(a&&t&&e){let v=function(){n(),r()};var i=t,o=e,s=ln(i),l=ln(o),c=_r(o),u=new Set([c].concat(L(s),L(l)));return u.forEach(function(h){h.addEventListener("scroll",v,{passive:!0})}),c.addEventListener("resize",v,{passive:!0}),n(),function(){u.forEach(function(h){h.removeEventListener("scroll",v),c.removeEventListener("resize",v)})}}},[a,t,e])}function _i(a,t,e,n,r,i,o,s){var l=d.useRef(a);l.current=a;var c=d.useRef(!1);d.useEffect(function(){if(t&&n&&(!r||i)){var v=function(){c.current=!1},h=function(f){var p;l.current&&!o(((p=f.composedPath)===null||p===void 0||(p=p.call(f))===null||p===void 0?void 0:p[0])||f.target)&&!c.current&&s(!1)},w=_r(n);w.addEventListener("pointerdown",v,!0),w.addEventListener("mousedown",h,!0),w.addEventListener("contextmenu",h,!0);var g=Qt(e);return g&&(g.addEventListener("mousedown",h,!0),g.addEventListener("contextmenu",h,!0)),function(){w.removeEventListener("pointerdown",v,!0),w.removeEventListener("mousedown",h,!0),w.removeEventListener("contextmenu",h,!0),g&&(g.removeEventListener("mousedown",h,!0),g.removeEventListener("contextmenu",h,!0))}}},[t,e,n,r,i]);function u(){c.current=!0}return u}var Bi=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ki(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qn,t=d.forwardRef(function(e,n){var r=e.prefixCls,i=r===void 0?"rc-trigger-popup":r,o=e.children,s=e.action,l=s===void 0?"hover":s,c=e.showAction,u=e.hideAction,v=e.popupVisible,h=e.defaultPopupVisible,w=e.onPopupVisibleChange,g=e.afterPopupVisibleChange,m=e.mouseEnterDelay,f=e.mouseLeaveDelay,p=f===void 0?.1:f,y=e.focusDelay,b=e.blurDelay,V=e.mask,P=e.maskClosable,C=P===void 0?!0:P,R=e.getPopupContainer,x=e.forceRender,E=e.autoDestroy,k=e.destroyPopupOnHide,$=e.popup,I=e.popupClassName,A=e.popupStyle,T=e.popupPlacement,G=e.builtinPlacements,O=G===void 0?{}:G,Q=e.popupAlign,ee=e.zIndex,ne=e.stretch,W=e.getPopupClassNameFromAlign,Ie=e.fresh,le=e.alignPoint,X=e.onPopupClick,D=e.onPopupAlign,Z=e.arrow,Se=e.popupMotion,Re=e.maskMotion,xe=e.popupTransitionName,fe=e.popupAnimation,ze=e.maskTransitionName,rr=e.maskAnimation,me=e.className,$e=e.getTriggerDOMNode,Pe=mt(e,Bi),ce=E||k||!1,kr=d.useState(!1),Ue=j(kr,2),ye=Ue[0],Ne=Ue[1];ge(function(){Ne(Li())},[]);var tr=d.useRef({}),ie=d.useContext(qn),yt=d.useMemo(function(){return{registerSubPopup:function(N,K){tr.current[N]=K,ie==null||ie.registerSubPopup(N,K)}}},[ie]),_=Ia(),Br=d.useState(null),nr=j(Br,2),oe=nr[0],_e=nr[1],We=d.useRef(null),pt=Oe(function(M){We.current=M,Gt(M)&&oe!==M&&_e(M),ie==null||ie.registerSubPopup(_,M)}),Ft=d.useState(null),Kr=j(Ft,2),Ee=Kr[0],Ve=Kr[1],pe=d.useRef(null),wt=Oe(function(M){Gt(M)&&Ee!==M&&(Ve(M),pe.current=M)}),ar=d.Children.only(o),Fe=(ar==null?void 0:ar.props)||{},Be={},bt=Oe(function(M){var N,K,re=Ee;return(re==null?void 0:re.contains(M))||((N=Qt(re))===null||N===void 0?void 0:N.host)===M||M===re||(oe==null?void 0:oe.contains(M))||((K=Qt(oe))===null||K===void 0?void 0:K.host)===M||M===oe||Object.values(tr.current).some(function(J){return(J==null?void 0:J.contains(M))||M===J})}),Jr=Wn(i,Se,fe,xe),Ct=Wn(i,Re,rr,ze),Pt=d.useState(h||!1),Te=j(Pt,2),de=Te[0],Sr=Te[1],se=v??de,Ke=Oe(function(M){v===void 0&&Sr(M)});ge(function(){Sr(v||!1)},[v]);var U=d.useRef(se);U.current=se;var B=d.useRef([]);B.current=[];var Me=Oe(function(M){var N;Ke(M),((N=B.current[B.current.length-1])!==null&&N!==void 0?N:se)!==M&&(B.current.push(M),w==null||w(M))}),ir=d.useRef(),Rr=function(){clearTimeout(ir.current)},we=function(N){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Rr(),K===0?Me(N):ir.current=setTimeout(function(){Me(N)},K*1e3)};d.useEffect(function(){return Rr},[]);var Gr=d.useState(!1),xr=j(Gr,2),Je=xr[0],Qr=xr[1];ge(function(M){(!M||se)&&Qr(!0)},[se]);var Et=d.useState(null),$r=j(Et,2),vr=$r[0],Nr=$r[1],or=d.useState(null),sr=j(or,2),He=sr[0],gr=sr[1],ur=function(N){gr([N.clientX,N.clientY])},Zr=zi(se,oe,le&&He!==null?He:Ee,T,O,Q,D),ae=j(Zr,11),Yr=ae[0],Vt=ae[1],lr=ae[2],Xr=ae[3],Mt=ae[4],et=ae[5],rt=ae[6],cr=ae[7],tt=ae[8],hr=ae[9],je=ae[10],nt=Hi(ye,l,c,u),at=j(nt,2),Le=at[0],ke=at[1],mr=Le.has("click"),yr=ke.has("click")||ke.has("contextMenu"),Ae=Oe(function(){Je||je()}),kt=function(){U.current&&le&&yr&&we(!1)};Ui(se,Ee,oe,Ae,kt),ge(function(){Ae()},[He,T]),ge(function(){se&&!(O!=null&&O[T])&&Ae()},[JSON.stringify(Q)]);var it=d.useMemo(function(){var M=Oi(O,i,hr,le);return Cr(M,W==null?void 0:W(hr))},[hr,W,O,i,le]);d.useImperativeHandle(n,function(){return{nativeElement:pe.current,popupElement:We.current,forceAlign:Ae}});var St=d.useState(0),Tr=j(St,2),Rt=Tr[0],xt=Tr[1],$t=d.useState(0),ot=j($t,2),Nt=ot[0],Tt=ot[1],st=function(){if(ne&&Ee){var N=Ee.getBoundingClientRect();xt(N.width),Tt(N.height)}},Lt=function(){st(),Ae()},At=function(N){Qr(!1),je(),g==null||g(N)},Lr=function(){return new Promise(function(N){st(),Nr(function(){return N})})};ge(function(){vr&&(je(),vr(),Nr(null))},[vr]);function De(M,N,K,re){Be[M]=function(J){var ct;re==null||re(J),we(N,K);for(var Ht=arguments.length,mn=new Array(Ht>1?Ht-1:0),ft=1;ft<Ht;ft++)mn[ft-1]=arguments[ft];(ct=Fe[M])===null||ct===void 0||ct.call.apply(ct,[Fe,J].concat(mn))}}(mr||yr)&&(Be.onClick=function(M){var N;U.current&&yr?we(!1):!U.current&&mr&&(ur(M),we(!0));for(var K=arguments.length,re=new Array(K>1?K-1:0),J=1;J<K;J++)re[J-1]=arguments[J];(N=Fe.onClick)===null||N===void 0||N.call.apply(N,[Fe,M].concat(re))});var Dt=_i(se,yr,Ee,oe,V,C,bt,we),be=Le.has("hover"),ut=ke.has("hover"),pr,Ge;be&&(De("onMouseEnter",!0,m,function(M){ur(M)}),De("onPointerEnter",!0,m,function(M){ur(M)}),pr=function(N){(se||Je)&&oe!==null&&oe!==void 0&&oe.contains(N.target)&&we(!0,m)},le&&(Be.onMouseMove=function(M){var N;(N=Fe.onMouseMove)===null||N===void 0||N.call(Fe,M)})),ut&&(De("onMouseLeave",!1,p),De("onPointerLeave",!1,p),Ge=function(){we(!1,p)}),Le.has("focus")&&De("onFocus",!0,y),ke.has("focus")&&De("onBlur",!1,b),Le.has("contextMenu")&&(Be.onContextMenu=function(M){var N;U.current&&ke.has("contextMenu")?we(!1):(ur(M),we(!0)),M.preventDefault();for(var K=arguments.length,re=new Array(K>1?K-1:0),J=1;J<K;J++)re[J-1]=arguments[J];(N=Fe.onContextMenu)===null||N===void 0||N.call.apply(N,[Fe,M].concat(re))}),me&&(Be.className=Cr(Fe.className,me));var Qe=S(S({},Fe),Be),Ar={},lt=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];lt.forEach(function(M){Pe[M]&&(Ar[M]=function(){for(var N,K=arguments.length,re=new Array(K),J=0;J<K;J++)re[J]=arguments[J];(N=Qe[M])===null||N===void 0||N.call.apply(N,[Qe].concat(re)),Pe[M].apply(Pe,re)})});var qt=d.cloneElement(ar,S(S({},Qe),Ar)),It={x:et,y:rt},Wt=Z?S({},Z!==!0?Z:{}):null;return d.createElement(d.Fragment,null,d.createElement(gn,{disabled:!se,ref:wt,onResize:Lt},d.createElement(Wi,{getTriggerDOMNode:$e},qt)),d.createElement(qn.Provider,{value:yt},d.createElement(Ii,{portal:a,ref:pt,prefixCls:i,popup:$,className:Cr(I,it),style:A,target:Ee,onMouseEnter:pr,onMouseLeave:Ge,onPointerEnter:pr,zIndex:ee,open:se,keepDom:Je,fresh:Ie,onClick:X,onPointerDownCapture:Dt,mask:V,motion:Jr,maskMotion:Ct,onVisibleChanged:At,onPrepare:Lr,forceRender:x,autoDestroy:ce,getPopupContainer:R,align:hr,arrow:Wt,arrowPos:It,ready:Yr,offsetX:Vt,offsetY:lr,offsetR:Xr,offsetB:Mt,onAlign:Ae,stretch:ne,targetWidth:Rt/cr,targetHeight:Nt/tt})))});return t}const no=Ki(Qn),ao=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var n,r;const{variant:i,[a]:o}=d.useContext(ga),s=d.useContext(Ti),l=o==null?void 0:o.variant;let c;typeof t<"u"?c=t:e===!1?c="borderless":c=(r=(n=s??l)!==null&&n!==void 0?n:i)!==null&&r!==void 0?r:"outlined";const u=ha.includes(c);return[c,u]};export{Dn as F,Yi as K,to as N,gn as R,no as T,Xi as a,Ia as b,Zi as c,ao as d,Li as e,eo as g,ro as i,gt as t,Qi as u};
